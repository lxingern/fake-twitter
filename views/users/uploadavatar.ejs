<% layout('layouts/boilerplate') %>


<div class="w-1/6 border p-4">
    <p class="mb-2">Select an image to upload: </p>

    <form class="flex flex-col" action="/myavatar?_method=PATCH" method="POST" enctype="multipart/form-data">
        <label class="mb-4" for="inputTag">
            <input class="mb-4 hidden" type="file" name="avatar" id="inputTag">
            <div class="border px-2 cursor-pointer flex items-center">
                <div class="border-r w-fit py-2 pr-2 h-full">
                    Browse
                </div>
                <span class="pl-2 overflow-hidden" id="imageName"></span>
            </div>
        </label>   
        <button class="ml-auto w-fit transition-colors border rounded-full bg-black hover:bg-gray-800 text-white text-sm font-bold py-2 px-3">Upload</button>
    </form>
</div>

<script>
    let input = document.getElementById("inputTag");
    let imageName = document.getElementById("imageName")

    input.addEventListener("change", () => {
        let inputImage = document.querySelector("input[type=file]").files[0];
        imageName.innerText = inputImage.name;
    })
</script>

